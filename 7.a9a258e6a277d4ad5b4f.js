(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zKAn:function(t,o,e){"use strict";e.r(o),e.d(o,"ProdutoModule",(function(){return H}));var n=e("ofXK"),i=e("3Pt+"),a=e("tyNb"),r=e("dohy"),s=e("fXoL"),l=e("e+EW"),d=e("7zfz"),u=e("XNiG");let c=(()=>{class t{constructor(){this.cadastroComplete=new u.a,this.cadastroComplete$=this.cadastroComplete.asObservable(),this.init()}init(){this.cadastroProduto={id:0,ativo:!0,nome:"",preco:0,insumos:[]}}complete(){this.cadastroComplete.next(this.cadastroProduto),this.init()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac}),t})();var p=e("QIUk"),m=e("V5BG"),b=e("Ks7X"),h=e("arFO"),v=e("Ji6n"),f=e("jIHw"),g=e("lUkA"),P=e("4m0p");function y(t,o){1&t&&(s.Pb(0,"small",21),s.yc(1,"Selecione um produto."),s.Ob())}function O(t,o){1&t&&(s.Pb(0,"small",21),s.yc(1,"Informe a quantidade do insumo"),s.Ob())}function C(t,o){if(1&t){const t=s.Qb();s.Pb(0,"div",22),s.Pb(1,"p-button",23),s.Wb("onClick",(function(){return s.qc(t),s.Yb().prevPage()})),s.Ob(),s.Pb(2,"p-button",24),s.Wb("onClick",(function(){return s.qc(t),s.Yb().nextPage()})),s.Ob(),s.Ob()}if(2&t){const t=s.Yb();s.yb(2),s.fc("disabled",0===(null==t.cadastroProdutoService.cadastroProduto.insumos?null:t.cadastroProdutoService.cadastroProduto.insumos.length))}}const I=function(t){return{"ng-dirty":t}};let w=(()=>{class t{constructor(t,o,e,n,a){this.service=t,this.router=o,this.confirmationService=e,this.cadastroProdutoService=n,this.route=a,this.tipoInsumoConst="KG",this.formCadastroInsumo=new i.d({nomeInsumo:new i.b({value:""},[i.p.required]),quantidadeInsumo:new i.b(0,[i.p.required,i.p.min(1)]),insumoAtivo:new i.b({value:!1,disabled:!0},[]),idInsumo:new i.b({value:0,disabled:!0}),autoCompleteNomeInsumo:new i.b(""),tipoInsumo:new i.b(this.tipoInsumoConst)}),this.tiposInsumos=[{nome:"Kg",codigo:"KG"},{nome:"g",codigo:"G"},{nome:"l",codigo:"L"},{nome:"ml",codigo:"ML"}],this.submitted=!1,this.headersInsumos=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:r.a.String},{fieldName:"quantidade",labelColumn:"Quantidade",sortableColumn:!0,typeColumn:r.a.String},{fieldName:"tipo",labelColumn:"Tipo",sortableColumn:!0,typeColumn:r.a.String},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:r.a.ActionsButtons}]}ngOnInit(){this.service.getAllInsumos().subscribe(t=>{this.insumos=t.filter(t=>t.ativo)}),this.resetForm()}search(t){let o=[],e=t.query;for(let n=0;n<this.insumos.length;n++){let t=this.insumos[n];0==t.nome.toLowerCase().indexOf(e.toLowerCase())&&o.push(t)}this.suggestions=o}selecionaInsumo(t){var o,e,n;null===(o=this.insumoAtivo)||void 0===o||o.setValue(t.ativo),null===(e=this.idInsumo)||void 0===e||e.setValue(t.id),null===(n=this.nomeInsumo)||void 0===n||n.setValue(t.nome)}prevPage(){this.router.navigate([".."],{relativeTo:this.route})}nextPage(){this.router.navigate(["../revisao"],{relativeTo:this.route})}vincularInsumo(){var t,o,e,n;if(this.formCadastroInsumo.valid){let i={id_insumo:null===(t=this.idInsumo)||void 0===t?void 0:t.value,nome:null===(o=this.nomeInsumo)||void 0===o?void 0:o.value,quantidade:null===(e=this.quantidadeInsumo)||void 0===e?void 0:e.value,tipo:null===(n=this.tipoInsumo)||void 0===n?void 0:n.value};this.cadastroProdutoService.cadastroProduto.insumos.filter(t=>t.id_insumo===i.id_insumo).length>0?(this.confirmationService.confirm({header:"Insumo repetido.",message:"N\xe3o \xe9 poss\xedvel adicionar o mesmo insumo",acceptLabel:"OK",rejectVisible:!1}),this.submitted=!0):(this.cadastroProdutoService.cadastroProduto.insumos.push(i),this.resetForm(),this.suggestions=[],this.submitted=!1)}else this.submitted=!0}resetForm(){this.formCadastroInsumo.reset({tipoInsumo:this.tipoInsumoConst,idInsumo:0,quantidadeInsumo:0})}onEdit(t){console.log("Edit -> "+t.id)}onDelete(t){this.confirmationService.confirm({message:"Tem certeza que deseja excluir?",accept:()=>{}})}get nomeInsumo(){return this.formCadastroInsumo.get("nomeInsumo")}get quantidadeInsumo(){return this.formCadastroInsumo.get("quantidadeInsumo")}get insumoAtivo(){return this.formCadastroInsumo.get("insumoAtivo")}get idInsumo(){return this.formCadastroInsumo.get("idInsumo")}get tipoInsumo(){return this.formCadastroInsumo.get("tipoInsumo")}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(l.a),s.Jb(a.b),s.Jb(d.a),s.Jb(c),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-cadastro-insumos-produtos"]],decls:36,vars:15,consts:[[3,"formGroup"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],["type","text","formControlName","idInsumo","hidden",""],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4"],[1,"p-float-label"],["type","text","formControlName","nomeInsumo","hidden",""],["field","nome","formControlName","autoCompleteNomeInsumo",3,"suggestions","dropdown","required","forceSelection","ngClass","completeMethod","onSelect"],["for","nome_insumo"],["class","p-error",4,"ngIf"],[1,"p-col-12","p-md-3"],["id","preco_insumo","mode","decimal","formControlName","quantidadeInsumo",3,"useGrouping"],["for","preco_insumo"],[1,"p-col-12","p-md-2"],["inputId","tipoInsumo","optionLabel","nome","formControlName","tipoInsumo","optionValue","codigo",3,"options"],["name","insumo_ativo","label","Ativo","formControlName","insumoAtivo",3,"binary"],[1,"p-col-12","p-lg-1","p-md-12","p-d-flex","p-jc-end","p-jc-md-start","p-jc-lg-end","p-sm-end","p-md-start","p-xl-end"],["label","Vincular","icon","pi pi-plus","iconPos","right",3,"onClick"],[1,"p-col-12"],[3,"data","headers","onEdit","onDelete"],["pTemplate","footer"],[1,"p-error"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Voltar","icon","pi pi-angle-left","styleClass","p-button-danger",3,"onClick"],["label","Avan\xe7ar","icon","pi pi-angle-right","iconPos","right",3,"disabled","onClick"]],template:function(t,o){1&t&&(s.Pb(0,"form",0),s.Pb(1,"p-card"),s.Pb(2,"div",1),s.Pb(3,"h5"),s.yc(4,"Vincula\xe7\xe3o de Insumos"),s.Ob(),s.Ob(),s.Kb(5,"input",2),s.Pb(6,"div",3),s.Pb(7,"div",4),s.Pb(8,"span",5),s.Kb(9,"input",6),s.Pb(10,"p-autoComplete",7),s.Wb("completeMethod",(function(t){return o.search(t)}))("onSelect",(function(t){return o.selecionaInsumo(t)})),s.Ob(),s.Pb(11,"label",8),s.yc(12,"Nome do Insumo"),s.Ob(),s.Ob(),s.wc(13,y,2,0,"small",9),s.Ob(),s.Pb(14,"div",10),s.Pb(15,"span",5),s.Kb(16,"p-inputNumber",11),s.Pb(17,"label",12),s.yc(18,"Quantidade"),s.Ob(),s.Ob(),s.wc(19,O,2,0,"small",9),s.Ob(),s.Pb(20,"div",13),s.Pb(21,"span",5),s.Kb(22,"p-dropdown",14),s.Pb(23,"label",12),s.yc(24,"Tipo"),s.Ob(),s.Ob(),s.Ob(),s.Pb(25,"div",13),s.Kb(26,"p-checkbox",15),s.Ob(),s.Pb(27,"div",16),s.Pb(28,"p-button",17),s.Wb("onClick",(function(){return o.vincularInsumo()})),s.Ob(),s.Ob(),s.Ob(),s.Kb(29,"br"),s.Pb(30,"p-divider"),s.Pb(31,"h6"),s.yc(32,"Insumos Vinculados"),s.Ob(),s.Ob(),s.Pb(33,"div",18),s.Pb(34,"app-table-responsive",19),s.Wb("onEdit",(function(t){return o.onEdit(t)}))("onDelete",(function(t){return o.onDelete(t)})),s.Ob(),s.Ob(),s.wc(35,C,3,1,"ng-template",20),s.Ob(),s.Ob()),2&t&&(s.fc("formGroup",o.formCadastroInsumo),s.yb(10),s.fc("suggestions",o.suggestions)("dropdown",!0)("required",!0)("forceSelection",!0)("ngClass",s.hc(13,I,(null==o.nomeInsumo?null:o.nomeInsumo.invalid)&&o.submitted||(null==o.nomeInsumo?null:o.nomeInsumo.dirty)&&(null==o.nomeInsumo?null:o.nomeInsumo.invalid))),s.yb(3),s.fc("ngIf",(null==o.nomeInsumo?null:o.nomeInsumo.invalid)&&o.submitted||(null==o.nomeInsumo?null:o.nomeInsumo.dirty)&&(null==o.nomeInsumo?null:o.nomeInsumo.invalid)),s.yb(3),s.fc("useGrouping",!1),s.yb(3),s.fc("ngIf",(null==o.quantidadeInsumo?null:o.quantidadeInsumo.invalid)&&o.submitted||(null==o.quantidadeInsumo?null:o.quantidadeInsumo.dirty)&&(null==o.quantidadeInsumo?null:o.quantidadeInsumo.invalid)),s.yb(3),s.fc("options",o.tiposInsumos),s.yb(4),s.fc("binary",!0),s.yb(8),s.fc("data",o.cadastroProdutoService.cadastroProduto.insumos)("headers",o.headersInsumos))},directives:[i.q,i.k,i.e,p.a,i.a,i.j,i.c,m.a,i.o,n.j,n.l,b.a,h.a,v.a,f.a,g.a,P.a,d.i],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}[_nghost-%COMP%]     .p-datatable-responsive-demo .p-paginator .p-paginator-current{text-align:left;width:100%;float:left;clear:left;border:0}}"]}),t})();var S=e("tk/3"),j=e("z6cu"),x=e("un/a"),k=e("JIr8"),N=e("AytR");let q=(()=>{class t{constructor(t){this.http=t,this.httpOptions={headers:new S.c({"Content-Type":"application/json"})},this.url=N.a.baseUrl,this.path="v1/produtos"}getAllProdutos(){return this.http.get(`${this.url}/${this.path}`).pipe(Object(x.a)(2),Object(k.a)(this.handleError))}getProdutoById(t){return this.http.get(`${this.url}/${this.path}/${t}`).pipe(Object(x.a)(2),Object(k.a)(this.handleError))}saveProduto(t){return this.http.post(`${this.url}/${this.path}`,JSON.stringify(t),this.httpOptions).pipe(Object(x.a)(2),Object(k.a)(this.handleError))}updateProduto(t){return this.http.put(`${this.url}/${this.path}/${t.id}`,JSON.stringify(t),this.httpOptions).pipe(Object(x.a)(1),Object(k.a)(this.handleError))}deleteProduto(t){return this.http.delete(`${this.url}/${this.path}/${t}`,this.httpOptions).pipe(Object(x.a)(1),Object(k.a)(this.handleError))}handleError(t){let o="";return o=t.error instanceof ErrorEvent?t.error.message:`C\xf3digo do erro: ${t.status}, menssagem: `+t.message,console.log(o),Object(j.a)(o)}}return t.\u0275fac=function(o){return new(o||t)(s.Tb(S.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=e("Nf9I");const L=function(){return["/produtos/cadastro"]};let A=(()=>{class t{constructor(t,o,e,n,i){this.service=t,this.route=o,this.router=e,this.confirmationService=n,this.cadastroProdutoService=i,this.produtos=[],this.headers=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:r.a.String},{fieldName:"preco",labelColumn:"Pre\xe7o",sortableColumn:!0,typeColumn:r.a.Currency},{fieldName:"ativo",labelColumn:"Ativo",sortableColumn:!1,typeColumn:r.a.Boolean,isDisabled:!0},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:r.a.ActionsButtons}],this.isLoading=!1}ngOnInit(){this.getAllProdutos()}getAllProdutos(){this.isLoading=!0,this.service.getAllProdutos().subscribe(t=>{this.produtos=t,this.isLoading=!1})}onEdit(t){this.router.navigate(["/produtos/cadastro",t.id],{relativeTo:this.route})}onDelete(t){this.confirmationService.confirm({message:"Deseja excluir o insumo? Essa opera\xe7\xe3o n\xe3o pode ser desfeita",accept:()=>{this.service.deleteProduto(t.id).subscribe(t=>{this.getAllProdutos()})}})}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(q),s.Jb(a.a),s.Jb(a.b),s.Jb(d.a),s.Jb(c))},t.\u0275cmp=s.Db({type:t,selectors:[["app-lista-produtos"]],decls:10,vars:5,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[1,"p-grid"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-col-12","p-d-flex","p-jc-end","p-sm-end","p-md-end","p-xl-end"],["pButton","","pRipple","","label","Adicionar","icon","pi pi-plus","routerLinkActive","router-link-exact-active",3,"routerLink"],[1,"p-col-12"],[3,"data","headers","isLoading","onEdit","onDelete"]],template:function(t,o){1&t&&(s.Kb(0,"p-confirmDialog",0),s.Pb(1,"p-card"),s.Pb(2,"div",1),s.Pb(3,"div",2),s.Pb(4,"h5"),s.yc(5,"Cadastro de Produtos"),s.Ob(),s.Ob(),s.Pb(6,"div",3),s.Kb(7,"button",4),s.Ob(),s.Pb(8,"div",5),s.Pb(9,"app-table-responsive",6),s.Wb("onEdit",(function(t){return o.onEdit(t)}))("onDelete",(function(t){return o.onDelete(t)})),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(7),s.fc("routerLink",s.gc(4,L)),s.yb(2),s.fc("data",o.produtos)("headers",o.headers)("isLoading",o.isLoading))},directives:[J.a,p.a,f.b,a.d,a.c,P.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}[_nghost-%COMP%]     .p-datatable-responsive-demo .p-paginator .p-paginator-current{text-align:left;width:100%;float:left;clear:left;border:0}}"]}),t})();var _=e("7kUa");function K(t,o){1&t&&(s.Pb(0,"small",15),s.yc(1,"Informe o nome do produto."),s.Ob())}function E(t,o){if(1&t){const t=s.Qb();s.Pb(0,"div",16),s.Pb(1,"p-button",17),s.Wb("onClick",(function(){return s.qc(t),s.Yb().cancel()})),s.Ob(),s.Pb(2,"p-button",18),s.Wb("onClick",(function(){return s.qc(t),s.Yb().nextPage()})),s.Ob(),s.Ob()}}const T=function(t){return{"ng-dirty":t}};let D=(()=>{class t{constructor(t,o,e,n,a){this.router=t,this.confirmationService=o,this.cadastroProdutoService=e,this.route=n,this.produtoService=a,this.submitted=!1,this.formProduto=new i.d({id:new i.b({value:0,disabled:!0}),nome:new i.b("",[i.p.required]),preco:new i.b({value:0}),ativo:new i.b(!0)})}ngOnInit(){this.route.params.subscribe(t=>{let o=t.id;o?this.getProduto(o):this.fillForm(this.cadastroProdutoService.cadastroProduto)})}getProduto(t){this.produtoService.getProdutoById(t).subscribe(t=>{this.fillForm(t)})}fillForm(t){var o,e,n,i;null===(o=this.id)||void 0===o||o.setValue(t.id),null===(e=this.nome)||void 0===e||e.setValue(t.nome),null===(n=this.preco)||void 0===n||n.setValue(t.preco),null===(i=this.ativo)||void 0===i||i.setValue(t.ativo),this.cadastroProdutoService.cadastroProduto=t}cancel(){this.confirmationService.confirm({message:"Tem certeza que deseja sair? Os dados ser\xe3o perdidos!",accept:()=>{this.cadastroProdutoService.init(),this.router.navigate(["/produtos"])}})}nextPage(){var t,o,e,n;if(this.formProduto.valid){let i={ativo:null===(t=this.ativo)||void 0===t?void 0:t.value,nome:null===(o=this.nome)||void 0===o?void 0:o.value,id:null===(e=this.id)||void 0===e?void 0:e.value,preco:null===(n=this.preco)||void 0===n?void 0:n.value,insumos:this.cadastroProdutoService.cadastroProduto.insumos};return this.cadastroProdutoService.cadastroProduto=i,void this.router.navigate(["insumos"],{relativeTo:this.route})}this.submitted=!0}get id(){return this.formProduto.get("id")}get nome(){return this.formProduto.get("nome")}get preco(){return this.formProduto.get("preco")}get ativo(){return this.formProduto.get("ativo")}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(a.b),s.Jb(d.a),s.Jb(c),s.Jb(a.a),s.Jb(q))},t.\u0275cmp=s.Db({type:t,selectors:[["app-produtos-info"]],decls:21,vars:7,consts:[[3,"formGroup"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],["type","text","formControlName","id","hidden",""],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4"],[1,"p-float-label"],["id","nome_produto","type","text","pInputText","","formControlName","nome",3,"ngClass","maxLength"],["for","nome_produto"],["class","p-error",4,"ngIf"],[1,"p-col-12","p-md-3"],["id","preco_produto","mode","currency","currency","BRL","locale","pt-BR","formControlName","preco"],["for","preco_produto"],[1,"p-col-12","p-md-2"],["name","produto_ativo","label","Ativo","formControlName","ativo",3,"binary"],["pTemplate","footer"],[1,"p-error"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-danger",3,"onClick"],["label","Avan\xe7ar","icon","pi pi-angle-right","iconPos","right",3,"onClick"]],template:function(t,o){1&t&&(s.Pb(0,"form",0),s.Pb(1,"p-card"),s.Pb(2,"div",1),s.Pb(3,"h5"),s.yc(4,"Cadastro de Produtos"),s.Ob(),s.Ob(),s.Kb(5,"input",2),s.Pb(6,"div",3),s.Pb(7,"div",4),s.Pb(8,"span",5),s.Kb(9,"input",6),s.Pb(10,"label",7),s.yc(11,"Nome do produto"),s.Ob(),s.Ob(),s.wc(12,K,2,0,"small",8),s.Ob(),s.Pb(13,"div",9),s.Pb(14,"span",5),s.Kb(15,"p-inputNumber",10),s.Pb(16,"label",11),s.yc(17,"Pre\xe7o"),s.Ob(),s.Ob(),s.Ob(),s.Pb(18,"div",12),s.Kb(19,"p-checkbox",13),s.Ob(),s.Ob(),s.wc(20,E,3,0,"ng-template",14),s.Ob(),s.Ob()),2&t&&(s.fc("formGroup",o.formProduto),s.yb(9),s.fc("ngClass",s.hc(5,T,(null==o.nome?null:o.nome.invalid)&&o.submitted||(null==o.nome?null:o.nome.dirty)&&(null==o.nome?null:o.nome.invalid)))("maxLength",30),s.yb(3),s.fc("ngIf",(null==o.nome?null:o.nome.invalid)&&o.submitted||(null==o.nome?null:o.nome.dirty)&&(null==o.nome?null:o.nome.invalid)),s.yb(7),s.fc("binary",!0))},directives:[i.q,i.k,i.e,p.a,i.a,i.j,i.c,_.a,n.j,n.l,b.a,v.a,d.i,f.a],styles:[""]}),t})();var M=e("KcHJ"),$=e("Gxio");let V=(()=>{class t{constructor(t,o,e){this.cadastroProdutoService=t,this.router=o,this.produtoService=e}ngOnInit(){this.items=[{label:"Produto",routerLink:"/cadastro"},{label:"Insumos",routerLink:"/insumos"},{label:"Revis\xe3o",routerLink:"/revisao"}],this.subscription=this.cadastroProdutoService.cadastroComplete$.subscribe(t=>{let o,e={nome:t.nome,ativo:t.ativo,preco:t.preco,id:0|t.id,insumos:t.insumos};o=e.id?this.produtoService.updateProduto(e):this.produtoService.saveProduto(e),o.subscribe(t=>{this.router.navigate(["/produtos"])})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(c),s.Jb(a.b),s.Jb(q))},t.\u0275cmp=s.Db({type:t,selectors:[["app-produtos-steps"]],decls:5,vars:2,consts:[[1,"card"],[3,"model","readonly"],["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"]],template:function(t,o){1&t&&(s.Pb(0,"div",0),s.Kb(1,"p-steps",1),s.Ob(),s.Kb(2,"p-toast"),s.Kb(3,"p-confirmDialog",2),s.Kb(4,"router-outlet")),2&t&&(s.yb(1),s.fc("model",o.items)("readonly",!0))},directives:[M.a,$.a,J.a,a.g],styles:[""]}),t})();var G=e("rEr+");function z(t,o){1&t&&(s.Pb(0,"tr"),s.Pb(1,"th",4),s.yc(2,"Insumos"),s.Ob(),s.Ob(),s.Pb(3,"tr"),s.Pb(4,"th",5),s.yc(5,"Resumo Produto"),s.Ob(),s.Ob(),s.Pb(6,"tr"),s.Pb(7,"th"),s.yc(8,"Quantidade"),s.Ob(),s.Pb(9,"th"),s.yc(10,"Tipo"),s.Ob(),s.Ob())}function F(t,o){if(1&t&&(s.Pb(0,"tr"),s.Pb(1,"td"),s.yc(2),s.Ob(),s.Pb(3,"td"),s.yc(4),s.Ob(),s.Pb(5,"td"),s.yc(6),s.Ob(),s.Ob()),2&t){const t=o.$implicit;s.yb(2),s.zc(t.nome),s.yb(2),s.zc(t.quantidade),s.yb(2),s.zc(t.tipo)}}function B(t,o){if(1&t){const t=s.Qb();s.Pb(0,"div",6),s.Pb(1,"p-button",7),s.Wb("onClick",(function(){return s.qc(t),s.Yb().prevPage()})),s.Ob(),s.Pb(2,"p-button",8),s.Wb("onClick",(function(){return s.qc(t),s.Yb().finalizar()})),s.Ob(),s.Ob()}}let W=(()=>{class t{constructor(t,o,e){this.cadastroProdutoService=t,this.router=o,this.route=e,this.margemLucro=100}ngOnInit(){}prevPage(){this.router.navigate(["../insumos"],{relativeTo:this.route})}finalizar(){this.cadastroProdutoService.complete()}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(c),s.Jb(a.b),s.Jb(a.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-revisao-cadastro-produtos"]],decls:6,vars:1,consts:[[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["rowspan","3"],["colspan","2"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Voltar","icon","pi pi-angle-left","styleClass","p-button-danger",3,"onClick"],["label","Finalizar","icon","pi pi-angle-right","iconPos","right","styleClass","p-button-success",3,"onClick"]],template:function(t,o){1&t&&(s.Pb(0,"form"),s.Pb(1,"p-card"),s.Pb(2,"p-table",0),s.wc(3,z,11,0,"ng-template",1),s.wc(4,F,7,3,"ng-template",2),s.Ob(),s.wc(5,B,3,0,"ng-template",3),s.Ob(),s.Ob()),2&t&&(s.yb(2),s.fc("value",o.cadastroProdutoService.cadastroProduto.insumos))},directives:[i.q,i.k,i.l,p.a,G.c,d.i,f.a],styles:[""]}),t})();const Q=[{path:"",component:A},{path:"cadastro",component:V,children:[{path:"",component:D},{path:"insumos",component:w},{path:"revisao",component:W}]},{path:"cadastro/:id",component:V,children:[{path:"",component:D},{path:"insumos",component:w},{path:"revisao",component:W}]}];let Y=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(o){return new(o||t)},imports:[[a.f.forChild(Q)],a.f]}),t})();var R=e("ThbA"),X=e("Xt7b");let H=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(o){return new(o||t)},providers:[q,c],imports:[[n.b,Y,R.a,i.n,i.g,X.a]]}),t})()}}]);