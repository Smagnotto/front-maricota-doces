(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Kbud:function(e,t,o){"use strict";o.r(t),o.d(t,"InsumoModule",(function(){return Q}));var n=o("ofXK"),i=o("3Pt+"),s=o("ThbA"),r=o("tyNb"),a=o("fXoL"),l=o("7zfz"),u=o("e+EW"),c=o("Nf9I"),m=o("QIUk"),d=o("7kUa"),p=o("Ji6n"),b=o("jIHw");function f(e,t){1&e&&(a.Qb(0,"small",15),a.zc(1,"Informe o nome do produto."),a.Pb())}const h=function(e){return{"ng-dirty":e}};let g=(()=>{class e{constructor(e,t,o,n){this.confirmationService=e,this.router=t,this.route=o,this.service=n,this.submitted=!1,this.formInsumo=new i.d({id:new i.b(0),nome:new i.b("",[i.p.required]),ativo:new i.b(!0)})}ngOnInit(){this.route.params.subscribe(e=>{let t=e.id;t?this.getInsumo(t):this.fillForm({ativo:!0,id:0,nome:""})})}getInsumo(e){this.service.getInsumoById(e).subscribe(e=>{this.fillForm(e)})}fillForm(e){var t,o,n;null===(t=this.id)||void 0===t||t.setValue(e.id),null===(o=this.nome)||void 0===o||o.setValue(e.nome),null===(n=this.ativo)||void 0===n||n.setValue(e.ativo)}cancel(){this.confirmationService.confirm({message:"Tem certeza que deseja sair? Os dados ser\xe3o perdidos!",accept:()=>{this.goBack()}})}get nome(){return this.formInsumo.get("nome")}get preco(){return this.formInsumo.get("preco")}get ativo(){return this.formInsumo.get("ativo")}get id(){return this.formInsumo.get("id")}get quantidade(){return this.formInsumo.get("quantidade")}onSubmit(e){if(e.valid){let t,o=e.value;t=o.id?this.service.updateInsumo(o):this.service.saveInsumo(o),t.subscribe(e=>{this.goBack()})}this.submitted=!0}goBack(){this.router.navigate(["/insumos"])}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(l.a),a.Kb(r.b),a.Kb(r.a),a.Kb(u.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-insumo-info"]],decls:19,vars:7,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[3,"formGroup","ngSubmit"],["type","text","formControlName","id","hidden",""],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4","p-lg-4"],[1,"p-float-label"],["id","nome_insumo","type","text","pInputText","","formControlName","nome",3,"maxLength","ngClass"],["for","nome_insumo"],["class","p-error",4,"ngIf"],[1,"p-col-12","p-md-2","p-lg-2"],["name","ativo","label","Ativo","formControlName","ativo",3,"binary"],[1,"p-col-12","p-md-5","p-lg-4","p-d-flex"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times","iconPos","right",1,"p-button-raised","p-button-danger","p-m-2",3,"click"],["pButton","","pRipple","","type","button","type","submit","label","Salvar","icon","pi pi-check","iconPos","right",1,"p-button-raised","p-m-2"],[1,"p-error"]],template:function(e,t){1&e&&(a.Lb(0,"p-confirmDialog",0),a.Qb(1,"form",1),a.Xb("ngSubmit",(function(){return t.onSubmit(t.formInsumo)})),a.Lb(2,"input",2),a.Qb(3,"p-card"),a.Qb(4,"div",3),a.Qb(5,"h5"),a.zc(6,"Cadastro de Insumos"),a.Pb(),a.Pb(),a.Qb(7,"div",4),a.Qb(8,"div",5),a.Qb(9,"span",6),a.Lb(10,"input",7),a.Qb(11,"label",8),a.zc(12,"Nome do produto"),a.Pb(),a.Pb(),a.xc(13,f,2,0,"small",9),a.Pb(),a.Qb(14,"div",10),a.Lb(15,"p-checkbox",11),a.Pb(),a.Qb(16,"div",12),a.Qb(17,"button",13),a.Xb("click",(function(){return t.cancel()})),a.Pb(),a.Lb(18,"button",14),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.zb(1),a.gc("formGroup",t.formInsumo),a.zb(9),a.gc("maxLength",30)("ngClass",a.ic(5,h,(null==t.nome?null:t.nome.invalid)&&t.submitted||(null==t.nome?null:t.nome.dirty)&&(null==t.nome?null:t.nome.invalid))),a.zb(3),a.gc("ngIf",(null==t.nome?null:t.nome.invalid)&&t.submitted||(null==t.nome?null:t.nome.dirty)&&(null==t.nome?null:t.nome.invalid)),a.zb(2),a.gc("binary",!0))},directives:[c.a,i.q,i.k,i.e,i.a,i.j,i.c,m.a,d.a,n.j,n.l,p.a,b.b],styles:[""]}),e})();var v=o("dohy"),I=o("4m0p");const y=function(){return["/insumos/cadastro"]},L=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this.service=e,this.confirmationService=t,this.router=o,this.route=n,this.produtos=[],this.headers=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:v.a.String},{fieldName:"ativo",labelColumn:"Ativo",sortableColumn:!1,typeColumn:v.a.Boolean,isDisabled:!0},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:v.a.ActionsButtons}],this.isLoading=!1}ngOnInit(){this.getAllInsumos()}getAllInsumos(){this.isLoading=!0,this.service.getAllInsumos().subscribe(e=>{this.produtos=e,this.isLoading=!1})}onEdit(e){this.router.navigate(["cadastro",e.id],{relativeTo:this.route})}onDelete(e){this.confirmationService.confirm({message:"Deseja excluir o insumo? Essa opera\xe7\xe3o n\xe3o pode ser desfeita",accept:()=>{this.service.deleteInsumo(e.id).subscribe(e=>{this.getAllInsumos()})}})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(u.a),a.Kb(l.a),a.Kb(r.b),a.Kb(r.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-lista-insumos"]],decls:10,vars:5,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[1,"p-grid"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-col-12","p-d-flex","p-jc-end","p-sm-end","p-md-end","p-xl-end"],["pButton","","pRipple","","label","Adicionar","icon","pi pi-plus","routerLinkActive","router-link-exact-active",3,"routerLink"],[1,"p-col-12"],[3,"data","headers","isLoading","onEdit","onDelete"]],template:function(e,t){1&e&&(a.Lb(0,"p-confirmDialog",0),a.Qb(1,"p-card"),a.Qb(2,"div",1),a.Qb(3,"div",2),a.Qb(4,"h5"),a.zc(5,"Cadastro de Insumos"),a.Pb(),a.Pb(),a.Qb(6,"div",3),a.Lb(7,"button",4),a.Pb(),a.Qb(8,"div",5),a.Qb(9,"app-table-responsive",6),a.Xb("onEdit",(function(e){return t.onEdit(e)}))("onDelete",(function(e){return t.onDelete(e)})),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.zb(7),a.gc("routerLink",a.hc(4,y)),a.zb(2),a.gc("data",t.produtos)("headers",t.headers)("isLoading",t.isLoading))},directives:[c.a,m.a,b.b,r.d,r.c,I.a],styles:[""]}),e})()},{path:"cadastro",component:g},{path:"cadastro/:id",component:g}];let C=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(L)],r.f]}),e})();var P=o("Xt7b");let Q=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[u.a],imports:[[n.b,C,s.a,i.n,i.g,P.a]]}),e})()}}]);