(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zKAn:function(t,o,e){"use strict";e.r(o),e.d(o,"ProdutoModule",(function(){return H}));var n=e("ofXK"),i=e("3Pt+"),r=e("tyNb"),a=e("dohy"),s=e("fXoL"),l=e("e+EW"),d=e("7zfz"),u=e("XNiG");let c=(()=>{class t{constructor(){this.cadastroComplete=new u.a,this.cadastroComplete$=this.cadastroComplete.asObservable(),this.init()}init(){this.cadastroProduto={id:0,ativo:!0,nome:"",preco:0,insumos:[]}}complete(){this.cadastroComplete.next(this.cadastroProduto),this.init()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac}),t})();var p=e("QIUk"),m=e("V5BG"),b=e("Ks7X"),h=e("arFO"),v=e("Ji6n"),g=e("jIHw"),f=e("lUkA"),P=e("4m0p");function C(t,o){1&t&&(s.Qb(0,"small",21),s.zc(1,"Selecione um produto."),s.Pb())}function I(t,o){1&t&&(s.Qb(0,"small",21),s.zc(1,"Informe a quantidade do insumo"),s.Pb())}function y(t,o){if(1&t){const t=s.Rb();s.Qb(0,"div",22),s.Qb(1,"p-button",23),s.Xb("onClick",(function(){return s.rc(t),s.Zb().prevPage()})),s.Pb(),s.Qb(2,"p-button",24),s.Xb("onClick",(function(){return s.rc(t),s.Zb().nextPage()})),s.Pb(),s.Pb()}if(2&t){const t=s.Zb();s.zb(2),s.gc("disabled",0===(null==t.cadastroProdutoService.cadastroProduto.insumos?null:t.cadastroProdutoService.cadastroProduto.insumos.length))}}const Q=function(t){return{"ng-dirty":t}};let w=(()=>{class t{constructor(t,o,e,n,r){this.service=t,this.router=o,this.confirmationService=e,this.cadastroProdutoService=n,this.route=r,this.tipoInsumoConst="KG",this.formCadastroInsumo=new i.d({nomeInsumo:new i.b({value:""},[i.p.required]),quantidadeInsumo:new i.b(0,[i.p.required,i.p.min(1)]),insumoAtivo:new i.b({value:!1,disabled:!0},[]),idInsumo:new i.b({value:0,disabled:!0}),autoCompleteNomeInsumo:new i.b(""),tipoInsumo:new i.b(this.tipoInsumoConst)}),this.tiposInsumos=[{nome:"Kg",codigo:"KG"},{nome:"g",codigo:"G"},{nome:"l",codigo:"L"},{nome:"ml",codigo:"ML"}],this.submitted=!1,this.headersInsumos=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:a.a.String},{fieldName:"quantidade",labelColumn:"Quantidade",sortableColumn:!0,typeColumn:a.a.String},{fieldName:"tipo",labelColumn:"Tipo",sortableColumn:!0,typeColumn:a.a.String},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:a.a.ActionsButtons}]}ngOnInit(){this.service.getAllInsumos().subscribe(t=>{this.insumos=t.filter(t=>t.ativo)}),this.resetForm()}search(t){let o=[],e=t.query;for(let n=0;n<this.insumos.length;n++){let t=this.insumos[n];0==t.nome.toLowerCase().indexOf(e.toLowerCase())&&o.push(t)}this.suggestions=o}selecionaInsumo(t){var o,e,n;null===(o=this.insumoAtivo)||void 0===o||o.setValue(t.ativo),null===(e=this.idInsumo)||void 0===e||e.setValue(t.id),null===(n=this.nomeInsumo)||void 0===n||n.setValue(t.nome)}prevPage(){this.router.navigate([".."],{relativeTo:this.route})}nextPage(){this.router.navigate(["../revisao"],{relativeTo:this.route})}vincularInsumo(){var t,o,e,n;if(this.formCadastroInsumo.valid){let i={id_insumo:null===(t=this.idInsumo)||void 0===t?void 0:t.value,nome:null===(o=this.nomeInsumo)||void 0===o?void 0:o.value,quantidade:null===(e=this.quantidadeInsumo)||void 0===e?void 0:e.value,tipo:null===(n=this.tipoInsumo)||void 0===n?void 0:n.value};this.cadastroProdutoService.cadastroProduto.insumos.filter(t=>t.id_insumo===i.id_insumo).length>0?(this.confirmationService.confirm({header:"Insumo repetido.",message:"N\xe3o \xe9 poss\xedvel adicionar o mesmo insumo",acceptLabel:"OK",rejectVisible:!1}),this.submitted=!0):(this.cadastroProdutoService.cadastroProduto.insumos.push(i),this.resetForm(),this.suggestions=[],this.submitted=!1)}else this.submitted=!0}resetForm(){this.formCadastroInsumo.reset({tipoInsumo:this.tipoInsumoConst,idInsumo:0,quantidadeInsumo:0})}onEdit(t){console.log("Edit -> "+t.id)}onDelete(t){this.confirmationService.confirm({message:"Tem certeza que deseja excluir?",accept:()=>{}})}get nomeInsumo(){return this.formCadastroInsumo.get("nomeInsumo")}get quantidadeInsumo(){return this.formCadastroInsumo.get("quantidadeInsumo")}get insumoAtivo(){return this.formCadastroInsumo.get("insumoAtivo")}get idInsumo(){return this.formCadastroInsumo.get("idInsumo")}get tipoInsumo(){return this.formCadastroInsumo.get("tipoInsumo")}}return t.\u0275fac=function(o){return new(o||t)(s.Kb(l.a),s.Kb(r.b),s.Kb(d.a),s.Kb(c),s.Kb(r.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-cadastro-insumos-produtos"]],decls:36,vars:15,consts:[[3,"formGroup"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],["type","text","formControlName","idInsumo","hidden",""],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4"],[1,"p-float-label"],["type","text","formControlName","nomeInsumo","hidden",""],["field","nome","formControlName","autoCompleteNomeInsumo",3,"suggestions","dropdown","required","forceSelection","ngClass","completeMethod","onSelect"],["for","nome_insumo"],["class","p-error",4,"ngIf"],[1,"p-col-12","p-md-3"],["id","preco_insumo","mode","decimal","formControlName","quantidadeInsumo",3,"useGrouping"],["for","preco_insumo"],[1,"p-col-12","p-md-2"],["inputId","tipoInsumo","optionLabel","nome","formControlName","tipoInsumo","optionValue","codigo",3,"options"],["name","insumo_ativo","label","Ativo","formControlName","insumoAtivo",3,"binary"],[1,"p-col-12","p-lg-1","p-md-12","p-d-flex","p-jc-end","p-jc-md-start","p-jc-lg-end","p-sm-end","p-md-start","p-xl-end"],["label","Vincular","icon","pi pi-plus","iconPos","right",3,"onClick"],[1,"p-col-12"],[3,"data","headers","onEdit","onDelete"],["pTemplate","footer"],[1,"p-error"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Voltar","icon","pi pi-angle-left","styleClass","p-button-danger",3,"onClick"],["label","Avan\xe7ar","icon","pi pi-angle-right","iconPos","right",3,"disabled","onClick"]],template:function(t,o){1&t&&(s.Qb(0,"form",0),s.Qb(1,"p-card"),s.Qb(2,"div",1),s.Qb(3,"h5"),s.zc(4,"Vincula\xe7\xe3o de Insumos"),s.Pb(),s.Pb(),s.Lb(5,"input",2),s.Qb(6,"div",3),s.Qb(7,"div",4),s.Qb(8,"span",5),s.Lb(9,"input",6),s.Qb(10,"p-autoComplete",7),s.Xb("completeMethod",(function(t){return o.search(t)}))("onSelect",(function(t){return o.selecionaInsumo(t)})),s.Pb(),s.Qb(11,"label",8),s.zc(12,"Nome do Insumo"),s.Pb(),s.Pb(),s.xc(13,C,2,0,"small",9),s.Pb(),s.Qb(14,"div",10),s.Qb(15,"span",5),s.Lb(16,"p-inputNumber",11),s.Qb(17,"label",12),s.zc(18,"Quantidade"),s.Pb(),s.Pb(),s.xc(19,I,2,0,"small",9),s.Pb(),s.Qb(20,"div",13),s.Qb(21,"span",5),s.Lb(22,"p-dropdown",14),s.Qb(23,"label",12),s.zc(24,"Tipo"),s.Pb(),s.Pb(),s.Pb(),s.Qb(25,"div",13),s.Lb(26,"p-checkbox",15),s.Pb(),s.Qb(27,"div",16),s.Qb(28,"p-button",17),s.Xb("onClick",(function(){return o.vincularInsumo()})),s.Pb(),s.Pb(),s.Pb(),s.Lb(29,"br"),s.Qb(30,"p-divider"),s.Qb(31,"h6"),s.zc(32,"Insumos Vinculados"),s.Pb(),s.Pb(),s.Qb(33,"div",18),s.Qb(34,"app-table-responsive",19),s.Xb("onEdit",(function(t){return o.onEdit(t)}))("onDelete",(function(t){return o.onDelete(t)})),s.Pb(),s.Pb(),s.xc(35,y,3,1,"ng-template",20),s.Pb(),s.Pb()),2&t&&(s.gc("formGroup",o.formCadastroInsumo),s.zb(10),s.gc("suggestions",o.suggestions)("dropdown",!0)("required",!0)("forceSelection",!0)("ngClass",s.ic(13,Q,(null==o.nomeInsumo?null:o.nomeInsumo.invalid)&&o.submitted||(null==o.nomeInsumo?null:o.nomeInsumo.dirty)&&(null==o.nomeInsumo?null:o.nomeInsumo.invalid))),s.zb(3),s.gc("ngIf",(null==o.nomeInsumo?null:o.nomeInsumo.invalid)&&o.submitted||(null==o.nomeInsumo?null:o.nomeInsumo.dirty)&&(null==o.nomeInsumo?null:o.nomeInsumo.invalid)),s.zb(3),s.gc("useGrouping",!1),s.zb(3),s.gc("ngIf",(null==o.quantidadeInsumo?null:o.quantidadeInsumo.invalid)&&o.submitted||(null==o.quantidadeInsumo?null:o.quantidadeInsumo.dirty)&&(null==o.quantidadeInsumo?null:o.quantidadeInsumo.invalid)),s.zb(3),s.gc("options",o.tiposInsumos),s.zb(4),s.gc("binary",!0),s.zb(8),s.gc("data",o.cadastroProdutoService.cadastroProduto.insumos)("headers",o.headersInsumos))},directives:[i.q,i.k,i.e,p.a,i.a,i.j,i.c,m.a,i.o,n.j,n.l,b.a,h.a,v.a,g.a,f.a,P.a,d.i],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}[_nghost-%COMP%]     .p-datatable-responsive-demo .p-paginator .p-paginator-current{text-align:left;width:100%;float:left;clear:left;border:0}}"]}),t})();var x=e("tk/3"),z=e("z6cu"),S=e("un/a"),j=e("JIr8"),L=e("AytR");let O=(()=>{class t{constructor(t){this.http=t,this.httpOptions={headers:new x.d({"Content-Type":"application/json"})},this.url=L.a.baseUrl,this.path="v1/produtos"}getAllProdutos(){return this.http.get(`${this.url}/${this.path}`).pipe(Object(S.a)(2),Object(j.a)(this.handleError))}getProdutoById(t){return this.http.get(`${this.url}/${this.path}/${t}`).pipe(Object(S.a)(2),Object(j.a)(this.handleError))}saveProduto(t){return this.http.post(`${this.url}/${this.path}`,JSON.stringify(t),this.httpOptions).pipe(Object(S.a)(2),Object(j.a)(this.handleError))}updateProduto(t){return this.http.put(`${this.url}/${this.path}/${t.id}`,JSON.stringify(t),this.httpOptions).pipe(Object(S.a)(1),Object(j.a)(this.handleError))}deleteProduto(t){return this.http.delete(`${this.url}/${this.path}/${t}`,this.httpOptions).pipe(Object(S.a)(1),Object(j.a)(this.handleError))}handleError(t){let o="";return o=t.error instanceof ErrorEvent?t.error.message:`C\xf3digo do erro: ${t.status}, menssagem: `+t.message,console.log(o),Object(z.a)(o)}}return t.\u0275fac=function(o){return new(o||t)(s.Ub(x.b))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=e("Nf9I");const N=function(){return["/produtos/cadastro"]};let A=(()=>{class t{constructor(t,o,e,n,i){this.service=t,this.route=o,this.router=e,this.confirmationService=n,this.cadastroProdutoService=i,this.produtos=[],this.headers=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:a.a.String},{fieldName:"preco",labelColumn:"Pre\xe7o",sortableColumn:!0,typeColumn:a.a.Currency},{fieldName:"ativo",labelColumn:"Ativo",sortableColumn:!1,typeColumn:a.a.Boolean,isDisabled:!0},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:a.a.ActionsButtons}],this.isLoading=!1}ngOnInit(){this.getAllProdutos()}getAllProdutos(){this.isLoading=!0,this.service.getAllProdutos().subscribe(t=>{this.produtos=t,this.isLoading=!1})}onEdit(t){this.router.navigate(["/produtos/cadastro",t.id],{relativeTo:this.route})}onDelete(t){this.confirmationService.confirm({message:"Deseja excluir o insumo? Essa opera\xe7\xe3o n\xe3o pode ser desfeita",accept:()=>{this.service.deleteProduto(t.id).subscribe(t=>{this.getAllProdutos()})}})}}return t.\u0275fac=function(o){return new(o||t)(s.Kb(O),s.Kb(r.a),s.Kb(r.b),s.Kb(d.a),s.Kb(c))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-lista-produtos"]],decls:10,vars:5,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[1,"p-grid"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-col-12","p-d-flex","p-jc-end","p-sm-end","p-md-end","p-xl-end"],["pButton","","pRipple","","label","Adicionar","icon","pi pi-plus","routerLinkActive","router-link-exact-active",3,"routerLink"],[1,"p-col-12"],[3,"data","headers","isLoading","onEdit","onDelete"]],template:function(t,o){1&t&&(s.Lb(0,"p-confirmDialog",0),s.Qb(1,"p-card"),s.Qb(2,"div",1),s.Qb(3,"div",2),s.Qb(4,"h5"),s.zc(5,"Cadastro de Produtos"),s.Pb(),s.Pb(),s.Qb(6,"div",3),s.Lb(7,"button",4),s.Pb(),s.Qb(8,"div",5),s.Qb(9,"app-table-responsive",6),s.Xb("onEdit",(function(t){return o.onEdit(t)}))("onDelete",(function(t){return o.onDelete(t)})),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(7),s.gc("routerLink",s.hc(4,N)),s.zb(2),s.gc("data",o.produtos)("headers",o.headers)("isLoading",o.isLoading))},directives:[k.a,p.a,g.b,r.d,r.c,P.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}[_nghost-%COMP%]     .p-datatable-responsive-demo .p-paginator .p-paginator-current{text-align:left;width:100%;float:left;clear:left;border:0}}"]}),t})();var K=e("7kUa");function q(t,o){1&t&&(s.Qb(0,"small",15),s.zc(1,"Informe o nome do produto."),s.Pb())}function _(t,o){if(1&t){const t=s.Rb();s.Qb(0,"div",16),s.Qb(1,"p-button",17),s.Xb("onClick",(function(){return s.rc(t),s.Zb().cancel()})),s.Pb(),s.Qb(2,"p-button",18),s.Xb("onClick",(function(){return s.rc(t),s.Zb().nextPage()})),s.Pb(),s.Pb()}}const E=function(t){return{"ng-dirty":t}};let M=(()=>{class t{constructor(t,o,e,n,r){this.router=t,this.confirmationService=o,this.cadastroProdutoService=e,this.route=n,this.produtoService=r,this.submitted=!1,this.formProduto=new i.d({id:new i.b({value:0,disabled:!0}),nome:new i.b("",[i.p.required]),preco:new i.b({value:0}),ativo:new i.b(!0)})}ngOnInit(){this.route.params.subscribe(t=>{let o=t.id;o?this.getProduto(o):this.fillForm(this.cadastroProdutoService.cadastroProduto)})}getProduto(t){this.produtoService.getProdutoById(t).subscribe(t=>{this.fillForm(t)})}fillForm(t){var o,e,n,i;null===(o=this.id)||void 0===o||o.setValue(t.id),null===(e=this.nome)||void 0===e||e.setValue(t.nome),null===(n=this.preco)||void 0===n||n.setValue(t.preco),null===(i=this.ativo)||void 0===i||i.setValue(t.ativo),this.cadastroProdutoService.cadastroProduto=t}cancel(){this.confirmationService.confirm({message:"Tem certeza que deseja sair? Os dados ser\xe3o perdidos!",accept:()=>{this.cadastroProdutoService.init(),this.router.navigate(["/produtos"])}})}nextPage(){var t,o,e,n;if(this.formProduto.valid){let i={ativo:null===(t=this.ativo)||void 0===t?void 0:t.value,nome:null===(o=this.nome)||void 0===o?void 0:o.value,id:null===(e=this.id)||void 0===e?void 0:e.value,preco:null===(n=this.preco)||void 0===n?void 0:n.value,insumos:this.cadastroProdutoService.cadastroProduto.insumos};return this.cadastroProdutoService.cadastroProduto=i,void this.router.navigate(["insumos"],{relativeTo:this.route})}this.submitted=!0}get id(){return this.formProduto.get("id")}get nome(){return this.formProduto.get("nome")}get preco(){return this.formProduto.get("preco")}get ativo(){return this.formProduto.get("ativo")}}return t.\u0275fac=function(o){return new(o||t)(s.Kb(r.b),s.Kb(d.a),s.Kb(c),s.Kb(r.a),s.Kb(O))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-produtos-info"]],decls:21,vars:7,consts:[[3,"formGroup"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],["type","text","formControlName","id","hidden",""],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4"],[1,"p-float-label"],["id","nome_produto","type","text","pInputText","","formControlName","nome",3,"ngClass","maxLength"],["for","nome_produto"],["class","p-error",4,"ngIf"],[1,"p-col-12","p-md-3"],["id","preco_produto","mode","currency","currency","BRL","locale","pt-BR","formControlName","preco"],["for","preco_produto"],[1,"p-col-12","p-md-2"],["name","produto_ativo","label","Ativo","formControlName","ativo",3,"binary"],["pTemplate","footer"],[1,"p-error"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-danger",3,"onClick"],["label","Avan\xe7ar","icon","pi pi-angle-right","iconPos","right",3,"onClick"]],template:function(t,o){1&t&&(s.Qb(0,"form",0),s.Qb(1,"p-card"),s.Qb(2,"div",1),s.Qb(3,"h5"),s.zc(4,"Cadastro de Produtos"),s.Pb(),s.Pb(),s.Lb(5,"input",2),s.Qb(6,"div",3),s.Qb(7,"div",4),s.Qb(8,"span",5),s.Lb(9,"input",6),s.Qb(10,"label",7),s.zc(11,"Nome do produto"),s.Pb(),s.Pb(),s.xc(12,q,2,0,"small",8),s.Pb(),s.Qb(13,"div",9),s.Qb(14,"span",5),s.Lb(15,"p-inputNumber",10),s.Qb(16,"label",11),s.zc(17,"Pre\xe7o"),s.Pb(),s.Pb(),s.Pb(),s.Qb(18,"div",12),s.Lb(19,"p-checkbox",13),s.Pb(),s.Pb(),s.xc(20,_,3,0,"ng-template",14),s.Pb(),s.Pb()),2&t&&(s.gc("formGroup",o.formProduto),s.zb(9),s.gc("ngClass",s.ic(5,E,(null==o.nome?null:o.nome.invalid)&&o.submitted||(null==o.nome?null:o.nome.dirty)&&(null==o.nome?null:o.nome.invalid)))("maxLength",30),s.zb(3),s.gc("ngIf",(null==o.nome?null:o.nome.invalid)&&o.submitted||(null==o.nome?null:o.nome.dirty)&&(null==o.nome?null:o.nome.invalid)),s.zb(7),s.gc("binary",!0))},directives:[i.q,i.k,i.e,p.a,i.a,i.j,i.c,K.a,n.j,n.l,b.a,v.a,d.i,g.a],styles:[""]}),t})();var T=e("KcHJ"),$=e("Gxio");let V=(()=>{class t{constructor(t,o,e){this.cadastroProdutoService=t,this.router=o,this.produtoService=e}ngOnInit(){this.items=[{label:"Produto",routerLink:"/cadastro"},{label:"Insumos",routerLink:"/insumos"},{label:"Revis\xe3o",routerLink:"/revisao"}],this.subscription=this.cadastroProdutoService.cadastroComplete$.subscribe(t=>{let o,e={nome:t.nome,ativo:t.ativo,preco:t.preco,id:0|t.id,insumos:t.insumos};o=e.id?this.produtoService.updateProduto(e):this.produtoService.saveProduto(e),o.subscribe(t=>{this.router.navigate(["/produtos"])})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(s.Kb(c),s.Kb(r.b),s.Kb(O))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-produtos-steps"]],decls:5,vars:2,consts:[[1,"card"],[3,"model","readonly"],["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"]],template:function(t,o){1&t&&(s.Qb(0,"div",0),s.Lb(1,"p-steps",1),s.Pb(),s.Lb(2,"p-toast"),s.Lb(3,"p-confirmDialog",2),s.Lb(4,"router-outlet")),2&t&&(s.zb(1),s.gc("model",o.items)("readonly",!0))},directives:[T.a,$.a,k.a,r.g],styles:[""]}),t})();var X=e("rEr+");function G(t,o){1&t&&(s.Qb(0,"tr"),s.Qb(1,"th",4),s.zc(2,"Insumos"),s.Pb(),s.Pb(),s.Qb(3,"tr"),s.Qb(4,"th",5),s.zc(5,"Resumo Produto"),s.Pb(),s.Pb(),s.Qb(6,"tr"),s.Qb(7,"th"),s.zc(8,"Quantidade"),s.Pb(),s.Qb(9,"th"),s.zc(10,"Tipo"),s.Pb(),s.Pb())}function D(t,o){if(1&t&&(s.Qb(0,"tr"),s.Qb(1,"td"),s.zc(2),s.Pb(),s.Qb(3,"td"),s.zc(4),s.Pb(),s.Qb(5,"td"),s.zc(6),s.Pb(),s.Pb()),2&t){const t=o.$implicit;s.zb(2),s.Ac(t.nome),s.zb(2),s.Ac(t.quantidade),s.zb(2),s.Ac(t.tipo)}}function B(t,o){if(1&t){const t=s.Rb();s.Qb(0,"div",6),s.Qb(1,"p-button",7),s.Xb("onClick",(function(){return s.rc(t),s.Zb().prevPage()})),s.Pb(),s.Qb(2,"p-button",8),s.Xb("onClick",(function(){return s.rc(t),s.Zb().finalizar()})),s.Pb(),s.Pb()}}let F=(()=>{class t{constructor(t,o,e){this.cadastroProdutoService=t,this.router=o,this.route=e,this.margemLucro=100}ngOnInit(){}prevPage(){this.router.navigate(["../insumos"],{relativeTo:this.route})}finalizar(){this.cadastroProdutoService.complete()}}return t.\u0275fac=function(o){return new(o||t)(s.Kb(c),s.Kb(r.b),s.Kb(r.a))},t.\u0275cmp=s.Eb({type:t,selectors:[["app-revisao-cadastro-produtos"]],decls:6,vars:1,consts:[[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["rowspan","3"],["colspan","2"],[1,"p-grid","p-nogutter","p-justify-between"],["label","Voltar","icon","pi pi-angle-left","styleClass","p-button-danger",3,"onClick"],["label","Finalizar","icon","pi pi-angle-right","iconPos","right","styleClass","p-button-success",3,"onClick"]],template:function(t,o){1&t&&(s.Qb(0,"form"),s.Qb(1,"p-card"),s.Qb(2,"p-table",0),s.xc(3,G,11,0,"ng-template",1),s.xc(4,D,7,3,"ng-template",2),s.Pb(),s.xc(5,B,3,0,"ng-template",3),s.Pb(),s.Pb()),2&t&&(s.zb(2),s.gc("value",o.cadastroProdutoService.cadastroProduto.insumos))},directives:[i.q,i.k,i.l,p.a,X.c,d.i,g.a],styles:[""]}),t})();const R=[{path:"",component:A},{path:"cadastro",component:V,children:[{path:"",component:M},{path:"insumos",component:w},{path:"revisao",component:F}]},{path:"cadastro/:id",component:V,children:[{path:"",component:M},{path:"insumos",component:w},{path:"revisao",component:F}]}];let J=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(o){return new(o||t)},imports:[[r.f.forChild(R)],r.f]}),t})();var Z=e("ThbA"),U=e("Xt7b");let H=(()=>{class t{}return t.\u0275mod=s.Ib({type:t}),t.\u0275inj=s.Hb({factory:function(o){return new(o||t)},providers:[O,c],imports:[[n.b,J,Z.a,i.n,i.g,U.a]]}),t})()}}]);