(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Kbud:function(e,t,o){"use strict";o.r(t),o.d(t,"InsumoModule",(function(){return C}));var i=o("ofXK"),n=o("3Pt+"),s=o("ThbA"),r=o("tyNb"),a=o("fXoL"),l=o("7zfz"),c=o("e+EW"),u=o("Nf9I"),p=o("QIUk"),d=o("7kUa"),m=o("Ji6n"),b=o("jIHw");function f(e,t){1&e&&(a.Pb(0,"small",15),a.xc(1,"Informe o nome do produto."),a.Ob())}let h=(()=>{class e{constructor(e,t,o,i){this.confirmationService=e,this.router=t,this.route=o,this.service=i,this.formInsumo=new n.d({id:new n.b(0),nome:new n.b("",[n.o.required]),ativo:new n.b(!0)})}ngOnInit(){this.route.params.subscribe(e=>{let t=e.id;t?this.getInsumo(t):this.fillForm({ativo:!0,id:0,nome:""})})}getInsumo(e){this.service.getInsumoById(e).subscribe(e=>{this.fillForm(e)})}fillForm(e){var t,o,i;null===(t=this.id)||void 0===t||t.setValue(e.id),null===(o=this.nome)||void 0===o||o.setValue(e.nome),null===(i=this.ativo)||void 0===i||i.setValue(e.ativo)}cancel(){this.confirmationService.confirm({message:"Tem certeza que deseja sair? Os dados ser\xe3o perdidos!",accept:()=>{this.goBack()}})}get nome(){return this.formInsumo.get("nome")}get preco(){return this.formInsumo.get("preco")}get ativo(){return this.formInsumo.get("ativo")}get id(){return this.formInsumo.get("id")}get quantidade(){return this.formInsumo.get("quantidade")}onSubmit(e){if(e.valid){let t,o=e.value;t=o.id?this.service.updateInsumo(o):this.service.saveInsumo(o),t.subscribe(e=>{this.goBack()})}}goBack(){this.router.navigate(["/insumos"])}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(l.a),a.Jb(r.b),a.Jb(r.a),a.Jb(c.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-insumo-info"]],decls:19,vars:4,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[3,"formGroup","ngSubmit"],["type","text","formControlName","id","hidden",""],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4","p-lg-4"],[1,"p-float-label"],["id","nome_insumo","type","text","pInputText","","formControlName","nome"],["for","nome_insumo"],["id","nome_insumo-help","class","p-error",4,"ngIf"],[1,"p-col-12","p-md-2","p-lg-2"],["name","ativo","label","Ativo","formControlName","ativo",3,"binary"],[1,"p-col-12","p-md-5","p-lg-4","p-d-flex"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times","iconPos","right",1,"p-button-raised","p-button-danger","p-m-2",3,"click"],["pButton","","pRipple","","type","button","type","submit","label","Salvar","icon","pi pi-check","iconPos","right",1,"p-button-raised","p-m-2",3,"disabled"],["id","nome_insumo-help",1,"p-error"]],template:function(e,t){1&e&&(a.Kb(0,"p-confirmDialog",0),a.Pb(1,"form",1),a.Wb("ngSubmit",(function(){return t.onSubmit(t.formInsumo)})),a.Kb(2,"input",2),a.Pb(3,"p-card"),a.Pb(4,"div",3),a.Pb(5,"h5"),a.xc(6,"Cadastro de Insumos"),a.Ob(),a.Ob(),a.Pb(7,"div",4),a.Pb(8,"div",5),a.Pb(9,"span",6),a.Kb(10,"input",7),a.Pb(11,"label",8),a.xc(12,"Nome do produto"),a.Ob(),a.Ob(),a.vc(13,f,2,0,"small",9),a.Ob(),a.Pb(14,"div",10),a.Kb(15,"p-checkbox",11),a.Ob(),a.Pb(16,"div",12),a.Pb(17,"button",13),a.Wb("click",(function(){return t.cancel()})),a.Ob(),a.Kb(18,"button",14),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.yb(1),a.ec("formGroup",t.formInsumo),a.yb(12),a.ec("ngIf",null==t.nome||null==t.nome.errors?null:t.nome.errors.required),a.yb(2),a.ec("binary",!0),a.yb(3),a.ec("disabled",!t.formInsumo.valid))},directives:[u.a,n.p,n.j,n.e,n.a,n.i,n.c,p.a,d.a,i.k,m.a,b.b],styles:[""]}),e})();var v=o("dohy"),g=o("4m0p");const I=function(){return["/insumos/cadastro"]},y=[{path:"",component:(()=>{class e{constructor(e,t,o,i){this.service=e,this.confirmationService=t,this.router=o,this.route=i,this.produtos=[],this.headers=[{fieldName:"nome",labelColumn:"Nome",sortableColumn:!0,typeColumn:v.a.String},{fieldName:"ativo",labelColumn:"Ativo",sortableColumn:!1,typeColumn:v.a.Boolean},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:v.a.ActionsButtons}],this.isLoading=!1}ngOnInit(){this.getAllInsumos()}getAllInsumos(){this.isLoading=!0,this.service.getAllInsumos().subscribe(e=>{this.produtos=e,this.isLoading=!1})}onEdit(e){this.router.navigate(["cadastro",e.id],{relativeTo:this.route})}onDelete(e){this.confirmationService.confirm({message:"Deseja excluir o insumo? Essa opera\xe7\xe3o n\xe3o pode ser desfeita",accept:()=>{this.service.deleteInsumo(e.id).subscribe(e=>{this.getAllInsumos()})}})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(c.a),a.Jb(l.a),a.Jb(r.b),a.Jb(r.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-lista-insumos"]],decls:10,vars:5,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[1,"p-grid"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-col-12","p-d-flex","p-jc-end","p-sm-end","p-md-end","p-xl-end"],["pButton","","pRipple","","label","Adicionar","icon","pi pi-plus","routerLinkActive","router-link-exact-active",3,"routerLink"],[1,"p-col-12"],[3,"data","headers","isLoading","onEdit","onDelete"]],template:function(e,t){1&e&&(a.Kb(0,"p-confirmDialog",0),a.Pb(1,"p-card"),a.Pb(2,"div",1),a.Pb(3,"div",2),a.Pb(4,"h5"),a.xc(5,"Cadastro de Insumos"),a.Ob(),a.Ob(),a.Pb(6,"div",3),a.Kb(7,"button",4),a.Ob(),a.Pb(8,"div",5),a.Pb(9,"app-table-responsive",6),a.Wb("onEdit",(function(e){return t.onEdit(e)}))("onDelete",(function(e){return t.onDelete(e)})),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.yb(7),a.ec("routerLink",a.fc(4,I)),a.yb(2),a.ec("data",t.produtos)("headers",t.headers)("isLoading",t.isLoading))},directives:[u.a,p.a,b.b,r.d,r.c,g.a],styles:[""]}),e})()},{path:"cadastro",component:h},{path:"cadastro/:id",component:h}];let O=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(y)],r.f]}),e})();var P=o("Xt7b");let C=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},providers:[c.a],imports:[[i.b,O,s.a,n.m,n.f,P.a]]}),e})()}}]);