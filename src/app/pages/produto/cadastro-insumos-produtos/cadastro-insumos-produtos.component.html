<p-card>
  <h5>Vinculação de Insumos</h5>
  <br />
  <div class="p-grid p-fluid">
    <div class="p-col-12 p-md-4">
      <span class="p-float-label">
        <p-autoComplete [suggestions]="suggestions" (completeMethod)="search($event)" [dropdown]="true"
          (onSelect)="selecionaInsumo($event)" field="nome"></p-autoComplete>
        <label for="nome_insumo">Nome do Insumo</label>
      </span>
    </div>

    <div class="p-col-12 p-md-3">
      <span class="p-float-label">
        <p-inputNumber id="preco_insumo" mode="currency" currency="BRL" locale="pt-BR" [disabled]="true">
        </p-inputNumber>
        <label for="preco_insumo">Preço</label>
      </span>
    </div>

    <div class="p-col-12 p-md-2">
      <p-checkbox name="ativo" [binary]="true" label="Ativo" [disabled]="true"> </p-checkbox>
    </div>

    <p-button label="Vincular" (onClick)="vincularInsumo()" icon="pi pi-plus" iconPos="right"></p-button>
  </div>

  <div class="p-col-12">
    <br />
    <h5>Vinculação de Insumos</h5>
    <br />
    <p-table [value]="insumosVinculados" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
      currentPageReportTemplate="Mostrando {first} até {last} de {totalRecords} insumos"
      [rowsPerPageOptions]="[10,25,50]" styleClass="p-datatable-responsive-demo p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="nome">Nome <p-sortIcon field="nome"></p-sortIcon>
          </th>
          <th pSortableColumn="preco">Preço <p-sortIcon field="preco"></p-sortIcon>
          </th>
          <th>Ativo</th>
          <th>Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td>{{row.nome}}</td>
          <td>{{row.preco | currency: 'BRL'}}</td>
          <td>
            <p-checkbox name="ativo" [value]="row.ativo" [(ngModel)]="row.ativo" [binary]="true" [disabled]="true">
            </p-checkbox>
          </td>
          <td>
            <button pButton pRipple type="button" icon="pi pi-pencil" class="p-mr-2 p-button-sm"></button>
            <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-danger p-button-sm"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <ng-template pTemplate="footer">
    <div class="p-grid p-nogutter p-justify-between">
      <p-button label="Voltar" (onClick)="prevPage()" icon="pi pi-angle-left" styleClass="p-button-danger"></p-button>
      <p-button label="Avançar" (onClick)="nextPage()" icon="pi pi-angle-right" iconPos="right"></p-button>
    </div>
  </ng-template>
</p-card>
