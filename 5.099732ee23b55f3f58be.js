(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{RAiK:function(e,t,n){"use strict";n.r(t),n.d(t,"EncomendasModule",(function(){return A}));var o=n("ofXK"),r=n("tyNb"),a=n("3Pt+"),l=n("fXoL"),i=n("7zfz"),c=n("tk/3"),d=n("z6cu"),s=n("un/a"),p=n("JIr8"),m=n("AytR");let u=(()=>{class e{constructor(e){this.http=e,this.httpOptions={headers:new c.c({"Content-Type":"application/json"})},this.url=m.a.baseUrl,this.path="v1/clientes"}getAllClientes(){return this.http.get(`${this.url}/${this.path}`).pipe(Object(s.a)(2),Object(p.a)(this.handleError))}getClienteById(e){return this.http.get(`${this.url}/${this.path}/${e}`).pipe(Object(s.a)(2),Object(p.a)(this.handleError))}getClienteByNome(e){return this.http.get(`${this.url}/${this.path}?nome=${e}`).pipe(Object(s.a)(2),Object(p.a)(this.handleError))}saveCliente(e){return this.http.post(`${this.url}/${this.path}`,JSON.stringify(e),this.httpOptions).pipe(Object(s.a)(2),Object(p.a)(this.handleError))}updateCliente(e){return this.http.put(`${this.url}/${this.path}/${e.id}`,JSON.stringify(e),this.httpOptions).pipe(Object(s.a)(1),Object(p.a)(this.handleError))}deleteCliente(e){return this.http.delete(`${this.url}/${this.path}/${e}`,this.httpOptions).pipe(Object(s.a)(1),Object(p.a)(this.handleError))}handleError(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`C\xf3digo do erro: ${e.status}, menssagem: `+e.message,console.log(t),Object(d.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(c.a))},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=n("Nf9I"),g=n("QIUk"),f=n("V5BG"),h=n("eO1q"),C=n("Ji6n"),y=n("lUkA"),O=n("CwEU"),v=n("7kUa"),P=n("Ks7X"),E=n("jIHw");function w(e,t){1&e&&(l.Pb(0,"small",34),l.yc(1,"Informe o nome do cliente."),l.Ob())}function N(e,t){1&e&&(l.Pb(0,"small",35),l.yc(1,"Informe a data da entrega"),l.Ob())}function j(e,t){1&e&&(l.Pb(0,"small",36),l.yc(1,"Informe o cep do cliente."),l.Ob())}function I(e,t){1&e&&(l.Pb(0,"small",37),l.yc(1,"Informe o logradouro do cliente."),l.Ob())}function _(e,t){1&e&&(l.Pb(0,"small",38),l.yc(1,"Informe o n\xfamero."),l.Ob())}function x(e,t){1&e&&(l.Pb(0,"small",38),l.yc(1,"N\xba deve ser maior que 0."),l.Ob())}let k=(()=>{class e{constructor(e,t,n,o){this.route=e,this.router=t,this.confirmationService=n,this.clienteService=o,this.formEncomenda=new a.d({idEncomenda:new a.b(""),idCliente:new a.b(""),autoCompleteNomeCliente:new a.b(""),nomeCliente:new a.b("",[a.p.required]),dataEntrega:new a.b("",[a.p.required]),pago:new a.b(!1),enderecoCliente:new a.d({logradouro:new a.b("",[a.p.required]),numero:new a.b(0,[a.p.required,a.p.min(1)]),complemento:new a.b(""),cep:new a.b("",[a.p.required])})}),this.filteredClients=[]}ngOnInit(){this.route.params.subscribe(e=>{})}filterClient(e){const{query:t}=e;this.clienteService.getClienteByNome(t).subscribe(e=>{this.filteredClients=e})}selecionaCliente(e){var t,n,o,r,a,l;null===(t=this.idCliente)||void 0===t||t.setValue(e.id),null===(n=this.nomeCliente)||void 0===n||n.setValue(e.nome),null===(o=this.logradouro)||void 0===o||o.setValue(e.endereco.logradouro),null===(r=this.cep)||void 0===r||r.setValue(e.endereco.cep),null===(a=this.numero)||void 0===a||a.setValue(e.endereco.numero),null===(l=this.complemento)||void 0===l||l.setValue(e.endereco.complemento)}cancel(){this.confirmationService.confirm({message:"Tem certeza que deseja sair? Os dados ser\xe3o perdidos!",accept:()=>{this.goBack()}})}onSubmit(e){console.log(e.value),e.valid&&this.goBack()}goBack(){this.router.navigate(["/encomendas"])}get idCliente(){return this.formEncomenda.get("idCliente")}get nomeCliente(){return this.formEncomenda.get("nomeCliente")}get dataEntrega(){return this.formEncomenda.get("dataEntrega")}get pago(){return this.formEncomenda.get("pago")}get logradouro(){var e;return null===(e=this.formEncomenda.get("enderecoCliente"))||void 0===e?void 0:e.get("logradouro")}get numero(){var e;return null===(e=this.formEncomenda.get("enderecoCliente"))||void 0===e?void 0:e.get("numero")}get complemento(){var e;return null===(e=this.formEncomenda.get("enderecoCliente"))||void 0===e?void 0:e.get("complemento")}get cep(){var e;return null===(e=this.formEncomenda.get("enderecoCliente"))||void 0===e?void 0:e.get("cep")}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(r.a),l.Jb(r.b),l.Jb(i.a),l.Jb(u))},e.\u0275cmp=l.Db({type:e,selectors:[["app-encomenda-info"]],decls:56,vars:16,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[3,"formGroup","ngSubmit"],["type","text","formControlName","idEncomenda","hidden",""],["type","text","formControlName","idCliente","hidden",""],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-grid","p-fluid"],[1,"p-col-12","p-md-4","p-lg-6"],[1,"p-float-label"],["type","text","formControlName","nomeCliente","hidden",""],["formControlName","autoCompleteNomeCliente","field","nome",3,"suggestions","minLength","completeMethod","onSelect"],["for","nome_cliente"],["id","nome_cliente-help","class","p-error",4,"ngIf"],[1,"p-col-12","p-md-4","p-lg-4"],["inputId","data_entrega","dateFormat","dd/mm/yy","formControlName","dataEntrega",3,"showIcon","showTime"],["for","data_entrega"],["id","data_entrega-help","class","p-error",4,"ngIf"],[1,"p-col-12","p-md-2","p-lg-2"],["name","ativo","label","Pago","formControlName","pago",3,"binary"],["formGroupName","enderecoCliente",1,"p-col-12","p-grid","p-fluid"],[1,"p-col-12","p-md-4","p-lg-2"],["id","cep_cliente","mask","99999-999","formControlName","cep"],["for","cep_cliente"],["id","cep_cliente-help","class","p-error",4,"ngIf"],["id","logradouro_cliente","type","text","pInputText","","formControlName","logradouro",3,"maxLength"],["for","logradouro_cliente"],["id","logradouro_cliente-help","class","p-error",4,"ngIf"],["mode","decimal","inputId","numero_cliente","formControlName","numero",3,"useGrouping"],["for","numero_cliente"],["id","numero_cliente-help","class","p-error",4,"ngIf"],["id","logradouro_cliente","type","text","pInputText","","formControlName","complemento",3,"maxLength"],[1,"p-col-12"],[1,"p-col-12","p-md-5","p-lg-4","p-d-flex"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times","iconPos","right",1,"p-button-raised","p-button-danger","p-m-2",3,"click"],["pButton","","pRipple","","type","button","type","submit","label","Salvar","icon","pi pi-check","iconPos","right",1,"p-button-raised","p-m-2",3,"disabled"],["id","nome_cliente-help",1,"p-error"],["id","data_entrega-help",1,"p-error"],["id","cep_cliente-help",1,"p-error"],["id","logradouro_cliente-help",1,"p-error"],["id","numero_cliente-help",1,"p-error"]],template:function(e,t){1&e&&(l.Kb(0,"p-confirmDialog",0),l.Pb(1,"form",1),l.Wb("ngSubmit",(function(){return t.onSubmit(t.formEncomenda)})),l.Kb(2,"input",2),l.Kb(3,"input",3),l.Pb(4,"p-card"),l.Pb(5,"div",4),l.Pb(6,"h5"),l.yc(7,"Cadastro de Encomendas"),l.Ob(),l.Ob(),l.Pb(8,"div",5),l.Pb(9,"div",6),l.Pb(10,"span",7),l.Kb(11,"input",8),l.Pb(12,"p-autoComplete",9),l.Wb("completeMethod",(function(e){return t.filterClient(e)}))("onSelect",(function(e){return t.selecionaCliente(e)})),l.Ob(),l.Pb(13,"label",10),l.yc(14,"Nome do cliente"),l.Ob(),l.Ob(),l.wc(15,w,2,0,"small",11),l.Ob(),l.Pb(16,"div",12),l.Pb(17,"span",7),l.Kb(18,"p-calendar",13),l.Pb(19,"label",14),l.yc(20,"Data Entrega"),l.Ob(),l.Ob(),l.wc(21,N,2,0,"small",15),l.Ob(),l.Pb(22,"div",16),l.Kb(23,"p-checkbox",17),l.Ob(),l.Pb(24,"p-divider"),l.Pb(25,"h5"),l.yc(26,"Endere\xe7o do Cliente"),l.Ob(),l.Ob(),l.Pb(27,"div",18),l.Pb(28,"div",19),l.Pb(29,"span",7),l.Kb(30,"p-inputMask",20),l.Pb(31,"label",21),l.yc(32,"CEP"),l.Ob(),l.Ob(),l.wc(33,j,2,0,"small",22),l.Ob(),l.Pb(34,"div",12),l.Pb(35,"span",7),l.Kb(36,"input",23),l.Pb(37,"label",24),l.yc(38,"Logradouro"),l.Ob(),l.Ob(),l.wc(39,I,2,0,"small",25),l.Ob(),l.Pb(40,"div",19),l.Pb(41,"span",7),l.Kb(42,"p-inputNumber",26),l.Pb(43,"label",27),l.yc(44,"N\xfamero"),l.Ob(),l.Ob(),l.wc(45,_,2,0,"small",28),l.wc(46,x,2,0,"small",28),l.Ob(),l.Pb(47,"div",12),l.Pb(48,"span",7),l.Kb(49,"input",29),l.Pb(50,"label",24),l.yc(51,"Complemento"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(52,"div",30),l.Pb(53,"div",31),l.Pb(54,"button",32),l.Wb("click",(function(){return t.cancel()})),l.Ob(),l.Kb(55,"button",33),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.yb(1),l.fc("formGroup",t.formEncomenda),l.yb(11),l.fc("suggestions",t.filteredClients)("minLength",1),l.yb(3),l.fc("ngIf",null==t.nomeCliente||null==t.nomeCliente.errors?null:t.nomeCliente.errors.required),l.yb(3),l.fc("showIcon",!0)("showTime",!0),l.yb(3),l.fc("ngIf",null==t.dataEntrega||null==t.dataEntrega.errors?null:t.dataEntrega.errors.required),l.yb(2),l.fc("binary",!0),l.yb(10),l.fc("ngIf",null==t.cep||null==t.cep.errors?null:t.cep.errors.required),l.yb(3),l.fc("maxLength",100),l.yb(3),l.fc("ngIf",null==t.logradouro||null==t.logradouro.errors?null:t.logradouro.errors.required),l.yb(3),l.fc("useGrouping",!1),l.yb(3),l.fc("ngIf",null==t.numero||null==t.numero.errors?null:t.numero.errors.required),l.yb(1),l.fc("ngIf",null==t.numero||null==t.numero.errors?null:t.numero.errors.min),l.yb(3),l.fc("maxLength",60),l.yb(6),l.fc("disabled",!t.formEncomenda.valid))},directives:[b.a,a.q,a.k,a.e,a.a,a.j,a.c,g.a,f.a,o.l,h.a,C.a,y.a,a.f,O.a,v.a,P.a,E.b],styles:[""]}),e})();var S=n("dohy"),L=n("4m0p");const $=function(){return["/encomendas/cadastro"]},K=[{path:"",component:(()=>{class e{constructor(e){this.confirmationService=e,this.encomendas=[{nome_cliente:"Cliente Teste",entregue:!1,preco:198.08,data_encomenda:new Date(2021,2,27,17,30),pago:!0}],this.headers=[{fieldName:"entregue",labelColumn:"Entregue",sortableColumn:!1,typeColumn:S.a.Boolean,callback:e=>this.AlteraEntregaEncomenda(e)},{fieldName:"nome_cliente",labelColumn:"Nome Cliente",sortableColumn:!0,typeColumn:S.a.String},{fieldName:"preco",labelColumn:"Pre\xe7o",sortableColumn:!0,typeColumn:S.a.Currency},{fieldName:"data_encomenda",labelColumn:"Data Encomenda",sortableColumn:!0,typeColumn:S.a.Date},{fieldName:"pago",labelColumn:"Pago",sortableColumn:!0,typeColumn:S.a.Boolean,isDisabled:!0},{fieldName:"",labelColumn:"A\xe7\xf5es",sortableColumn:!1,typeColumn:S.a.ActionsButtons}],this.isLoading=!1}ngOnInit(){}AlteraEntregaEncomenda(e){console.log("Alterando entrega da encomenda -> "+JSON.stringify(e))}onEdit(e){}onDelete(e){this.confirmationService.confirm({message:"Deseja excluir a encomenda? Essa opera\xe7\xe3o n\xe3o pode ser desfeita",accept:()=>{}})}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(i.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-lista-encomendas"]],decls:10,vars:5,consts:[["header","Confirma\xe7\xe3o","icon","pi pi-exclamation-triangle","acceptLabel","Sim","rejectLabel","N\xe3o","defaultFocus","N\xe3o","rejectButtonStyleClass","p-button-danger"],[1,"p-grid"],[1,"p-col-12","p-md-12","p-d-flex","p-jc-center","p-jc-md-start","p-jc-lg-start","p-sm-end","p-md-start","p-xl-end"],[1,"p-col-12","p-d-flex","p-jc-end","p-sm-end","p-md-end","p-xl-end"],["pButton","","pRipple","","label","Adicionar","icon","pi pi-plus","routerLinkActive","router-link-exact-active",3,"routerLink"],[1,"p-col-12"],[3,"data","headers","isLoading","onEdit","onDelete"]],template:function(e,t){1&e&&(l.Kb(0,"p-confirmDialog",0),l.Pb(1,"p-card"),l.Pb(2,"div",1),l.Pb(3,"div",2),l.Pb(4,"h5"),l.yc(5,"Cadastro de Encomendas"),l.Ob(),l.Ob(),l.Pb(6,"div",3),l.Kb(7,"button",4),l.Ob(),l.Pb(8,"div",5),l.Pb(9,"app-table-responsive",6),l.Wb("onEdit",(function(e){return t.onEdit(e)}))("onDelete",(function(e){return t.onDelete(e)})),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.yb(7),l.fc("routerLink",l.gc(4,$)),l.yb(2),l.fc("data",t.encomendas)("headers",t.headers)("isLoading",t.isLoading))},directives:[b.a,g.a,E.b,r.d,r.c,L.a],styles:[""]}),e})()},{path:"cadastro",component:k},{path:"cadastro/:id",component:k}];let q=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(K)],r.f]}),e})();var B=n("ThbA"),D=n("Xt7b");let A=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},providers:[u],imports:[[o.b,q,o.b,B.a,a.n,a.g,D.a]]}),e})()}}]);